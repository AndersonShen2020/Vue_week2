(function(t){function e(e){for(var n,a,i=e[0],s=e[1],u=e[2],l=0,d=[];l<i.length;l++)a=i[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);f&&f(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),c()}function c(){for(var t,e=0;e<o.length;e++){for(var c=o[e],n=!0,i=1;i<c.length;i++){var s=c[i];0!==r[s]&&(n=!1)}n&&(o.splice(e--,1),t=a(a.s=c[0]))}return t}var n={},r={app:0},o=[];function a(e){if(n[e])return n[e].exports;var c=n[e]={i:e,l:!1,exports:{}};return t[e].call(c.exports,c,c.exports,a),c.l=!0,c.exports}a.m=t,a.c=n,a.d=function(t,e,c){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:c})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(c,n,function(e){return t[e]}.bind(null,n));return c},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/Vue_week2/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var f=s;o.push([0,"chunk-vendors"]),c()})({0:function(t,e,c){t.exports=c("56d7")},"039a":function(t,e,c){},3936:function(t,e,c){"use strict";c("d393")},"3dfd":function(t,e,c){"use strict";var n=c("97ae"),r=c("42d8"),o=(c("6bd7"),c("6b0d")),a=c.n(o);const i=a()(r["default"],[["render",n["a"]]]);e["default"]=i},"42d8":function(t,e,c){"use strict";var n=c("527a"),r=c.n(n);c.d(e,"default",(function(){return r.a}))},"527a":function(t,e){},"56d7":function(t,e,c){"use strict";c.r(e);c("e260"),c("e6cf"),c("cca6"),c("a79d");var n=c("7a23"),r=c("3dfd"),o=c("6c02");function a(t,e,c,r,o,a){var i=Object(n["w"])("login");return Object(n["p"])(),Object(n["d"])(i)}var i=function(t){return Object(n["s"])("data-v-5b2e7d11"),t=t(),Object(n["q"])(),t},s={class:"container"},u={class:"row justify-content-center loginform"},f={class:"col-8"},l={class:"d-flex h-100 flex-column justify-content-center align-items-center"},d=i((function(){return Object(n["f"])("h1",{class:"h3 mb-3 font-weight-normal mt-auto"},"請先登入",-1)})),p={class:"form-signin"},b={class:"form-floating mb-3"},m=i((function(){return Object(n["f"])("label",{for:"floatingInput"},"Email address",-1)})),j={class:"form-floating"},O=i((function(){return Object(n["f"])("label",{for:"floatingPassword"},"Password",-1)})),h=i((function(){return Object(n["f"])("p",{class:"mt-5 mb-3 text-muted"},"© 2021~∞ - 六角學院",-1)}));function g(t,e,c,r,o,a){return Object(n["p"])(),Object(n["e"])("div",s,[Object(n["f"])("div",u,[Object(n["f"])("div",f,[Object(n["f"])("div",l,[d,Object(n["f"])("form",p,[Object(n["f"])("div",b,[Object(n["C"])(Object(n["f"])("input",{type:"email",class:"form-control",id:"floatingInput",placeholder:"name@example.com",required:"","onUpdate:modelValue":e[0]||(e[0]=function(t){return o.user.username=t}),autofocus:""},null,512),[[n["A"],o.user.username]]),m]),Object(n["f"])("div",j,[Object(n["C"])(Object(n["f"])("input",{type:"password",class:"form-control",id:"floatingPassword",placeholder:"Password","onUpdate:modelValue":e[1]||(e[1]=function(t){return o.user.password=t}),required:""},null,512),[[n["A"],o.user.password]]),O]),Object(n["f"])("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"submit",onClick:e[2]||(e[2]=Object(n["D"])((function(){return a.login&&a.login.apply(a,arguments)}),["prevent"]))}," 登入 ")]),h])])])])}c("99af");var x=c("bc3a"),w=c.n(x),y="https://vue3-course-api.hexschool.io/v2",v={data:function(){return{user:{username:"",password:""}}},methods:{login:function(){w.a.post("".concat(y,"/admin/signin"),this.user).then((function(t){console.log(t);var e=t.data,c=e.token,n=e.expired;document.cookie="hexToken=".concat(c,"; expires=").concat(new Date(n),";"),yt.push("/products")})).catch((function(t){alert(t.response.data.message)}))}}},M=(c("d1de"),c("6b0d")),k=c.n(M);const P=k()(v,[["render",g],["__scopeId","data-v-5b2e7d11"]]);var D=P,H={name:"App",components:{Login:D}};const _=k()(H,[["render",a]]);var A=_,V=(c("a4d3"),c("e01a"),{class:"container"}),B={class:"row mt-5"},U={class:"col-md-6"},q=Object(n["f"])("h2",null,"產品列表",-1),Y={class:"table table-hover mt-4"},G=Object(n["f"])("thead",null,[Object(n["f"])("tr",null,[Object(n["f"])("th",{width:"150"},"產品名稱"),Object(n["f"])("th",{width:"120"},"原價"),Object(n["f"])("th",{width:"120"},"售價"),Object(n["f"])("th",{width:"150"},"是否啟用"),Object(n["f"])("th",{width:"120"},"查看細節")])],-1),W={width:"150"},z={width:"120"},Z={width:"120"},N={width:"150"},R={key:0,class:"text-success"},F={key:1},T={width:"120"},C=["onClick"],I=Object(n["g"])(" 目前有 "),S=Object(n["g"])(" 項產品 "),J={class:"col-md-6"},L=Object(n["f"])("h2",null,"單一產品細節",-1),$={class:"card mb-3"},E=["src"],K={class:"card-body"},Q={class:"card-title"},X={class:"badge bg-primary ms-2"},tt={class:"card-text"},et={class:"card-text"},ct={class:"d-flex"},nt={class:"card-text me-2"},rt={class:"card-text text-secondary"},ot=["src"],at=["src"],it={key:1,class:"text-secondary"};function st(t,e,c,r,o,a){return Object(n["p"])(),Object(n["e"])("div",V,[Object(n["f"])("div",B,[Object(n["f"])("div",U,[q,Object(n["f"])("table",Y,[G,Object(n["f"])("tbody",null,[(Object(n["p"])(!0),Object(n["e"])(n["a"],null,Object(n["v"])(o.products,(function(t){return Object(n["p"])(),Object(n["e"])("tr",{key:t.id},[Object(n["f"])("td",W,Object(n["y"])(t.title),1),Object(n["f"])("td",z,Object(n["y"])(t.origin_price),1),Object(n["f"])("td",Z,Object(n["y"])(t.price),1),Object(n["f"])("td",N,[t.is_enabled?(Object(n["p"])(),Object(n["e"])("span",R,"啟用")):(Object(n["p"])(),Object(n["e"])("span",F,"未啟用"))]),Object(n["f"])("td",T,[Object(n["f"])("button",{type:"button",class:"btn btn-primary",onClick:function(e){return o.tempProduct=t}}," 查看細節 ",8,C)])])})),128))])]),Object(n["f"])("p",null,[I,Object(n["f"])("span",null,Object(n["y"])(o.products.length),1),S])]),Object(n["f"])("div",J,[L,o.tempProduct.title?(Object(n["p"])(),Object(n["e"])(n["a"],{key:0},[Object(n["f"])("div",$,[Object(n["f"])("img",{src:o.tempProduct.imageUrl,class:"card-img-top primary-image",alt:"主圖"},null,8,E),Object(n["f"])("div",K,[Object(n["f"])("h5",Q,[Object(n["g"])(Object(n["y"])(o.tempProduct.title)+" ",1),Object(n["f"])("span",X,Object(n["y"])(o.tempProduct.category),1)]),Object(n["f"])("p",tt,"商品描述："+Object(n["y"])(o.tempProduct.description),1),Object(n["f"])("p",et,"商品內容："+Object(n["y"])(o.tempProduct.content),1),Object(n["f"])("div",ct,[Object(n["f"])("p",nt,Object(n["y"])(o.tempProduct.price),1),Object(n["f"])("p",rt,[Object(n["f"])("del",null,Object(n["y"])(o.tempProduct.origin_price),1)]),Object(n["g"])(" "+Object(n["y"])(o.tempProduct.unit)+" / 元 ",1)])])]),o.tempProduct.imagesUrl.length<=4?(Object(n["p"])(!0),Object(n["e"])(n["a"],{key:0},Object(n["v"])(o.tempProduct.imagesUrl,(function(t,e){return Object(n["p"])(),Object(n["e"])("img",{src:t,alt:"",class:"images m-2",key:e},null,8,ot)})),128)):(Object(n["p"])(!0),Object(n["e"])(n["a"],{key:1},Object(n["v"])(o.tempProduct.imagesUrl,(function(t,e){return Object(n["p"])(),Object(n["e"])("img",{src:t,alt:"",class:"images m-2",key:e,style:{width:"100px"}},null,8,at)})),128))],64)):(Object(n["p"])(),Object(n["e"])("p",it,"請選擇一個商品查看"))])])])}var ut=c("2909"),ft=c("1da1");c("96cf"),c("ac1f"),c("5319");function lt(t,e){return dt.apply(this,arguments)}function dt(){return dt=Object(ft["a"])(regeneratorRuntime.mark((function t(e,c){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.a.get("".concat(e,"/api/").concat(c,"/admin/products"));case 3:return n=t.sent,r=n.data,t.abrupt("return",r.products);case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0.response.data.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),dt.apply(this,arguments)}var pt="https://vue3-course-api.hexschool.io/v2",bt="ashen",mt={products:[{category:"甜甜圈",content:"尺寸：14x14cm",description:"濃郁的草莓風味，中心填入滑順不膩口的卡士達內餡，帶來滿滿幸福感！",id:"-L9tH8jxVb2Ka_DYPwng",is_enabled:1,origin_price:150,price:99,title:"草莓莓果夾心圈",unit:"個",num:10,imageUrl:"https://images.unsplash.com/photo-1583182332473-b31ba08929c8?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NzR8fGRvbnV0fGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=700&q=60",imagesUrl:["https://images.unsplash.com/photo-1626094309830-abbb0c99da4a?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2832&q=80","https://images.unsplash.com/photo-1559656914-a30970c1affd?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTY0fHxkb251dHxlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=700&q=60"]},{category:"蛋糕",content:"尺寸：6寸",description:"蜜蜂蜜蛋糕，夾層夾上酸酸甜甜的檸檬餡，清爽可口的滋味讓人口水直流！",id:"-McJ-VvcwfN1_Ye_NtVA",is_enabled:16,origin_price:1e3,price:900,title:"蜂蜜檸檬蛋糕",unit:"個",num:1,imageUrl:"https://images.unsplash.com/photo-1627834377411-8da5f4f09de8?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1001&q=80",imagesUrl:["https://images.unsplash.com/photo-1618888007540-2bdead974bbb?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=987&q=80"]},{category:"蛋糕",content:"尺寸：6寸",description:"法式煎薄餅加上濃郁可可醬，呈現經典的美味及口感。",id:"-McJ-VyqaFlLzUMmpPpm",is_enabled:1,origin_price:700,price:600,title:"暗黑千層",unit:"個",num:15,imageUrl:"https://images.unsplash.com/photo-1505253149613-112d21d9f6a9?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NDZ8fGNha2V8ZW58MHx8MHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=700&q=60",imagesUrl:["https://images.unsplash.com/flagged/photo-1557234985-425e10c9d7f1?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTA5fHxjYWtlfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=700&q=60","https://images.unsplash.com/photo-1540337706094-da10342c93d8?ixid=MnwxMjA3fDB8MHxzZWFyY2h8NDR8fGNha2V8ZW58MHx8MHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=700&q=60"]}]},jt={data:function(){return{tempProduct:{},products:[]}},methods:{checkAdmin:function(){var t=this;w.a.post("".concat(pt,"/api/user/check")).then((function(e){console.log(e.data),t.getItems()})).catch((function(t){alert(t.response.data.message),yt.push("/")}))},getItems:function(){var t=this;return Object(ft["a"])(regeneratorRuntime.mark((function e(){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,lt(pt,bt);case 2:c=e.sent,console.log(c),t.products=[c[0]].concat(Object(ut["a"])(mt.products));case 5:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");w.a.defaults.headers.common["Authorization"]=t,this.checkAdmin()}};c("3936");const Ot=k()(jt,[["render",st]]);var ht=Ot,gt=[{path:"/",name:"home",component:A},{path:"/products",name:"products",component:ht}],xt=Object(o["b"])("/Vue_week2/"),wt=Object(o["a"])({history:xt,routes:gt}),yt=wt,vt=Object(n["c"])(r["default"]).use(yt);vt.use(yt).mount("#app")},"6bd7":function(t,e,c){"use strict";c("f60e")},"97ae":function(t,e,c){"use strict";c.d(e,"a",(function(){return r}));var n=c("7a23");function r(t,e,c,r,o,a){var i=Object(n["w"])("router-view");return Object(n["p"])(),Object(n["d"])(i)}},d1de:function(t,e,c){"use strict";c("039a")},d393:function(t,e,c){},f60e:function(t,e,c){}});
//# sourceMappingURL=app.b48cf7d9.js.map